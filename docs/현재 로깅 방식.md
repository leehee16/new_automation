í˜„ì¬ ë¡œê¹… ë°©ì‹ ë¶„ì„

  âœ… ì¥ì 

  1. ê°„ë‹¨í•˜ê³  ì§ê´€ì  - ì‘ì€ í”„ë¡œì íŠ¸ì— ì í•©í•œ ì¤‘ì•™ ì§‘ì¤‘ì‹ ì„¤ì •
  2. ì¼ê´€ì„± - ëª¨ë“  ëª¨ë“ˆì´ ë™ì¼í•œ í¬ë§·ê³¼ í•¸ë“¤ëŸ¬ ì‚¬ìš©
  3. ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥ - ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ getLogger(__name__)ë§Œ í•˜ë©´ ë°”ë¡œ ì‘ë™

  âš ï¸ ë¬¸ì œì 

  1. ëª¨ë“ˆë³„ ë¡œê·¸ ë ˆë²¨ ì¡°ì • ë¶ˆê°€
  # í˜„ì¬ëŠ” ë¶ˆê°€ëŠ¥
  scraperëŠ” INFO, downloaderëŠ” DEBUGë¡œ ë³´ê³  ì‹¶ì„ ë•Œ
  2. ë¡œê·¸ íŒŒì¼ ê´€ë¦¬ ë¶€ì¡±
    - íŒŒì¼ í¬ê¸° ì œí•œ ì—†ìŒ (ë¬´í•œ ì¦ê°€ ê°€ëŠ¥)
    - ë¡œê·¸ íŒŒì¼ rotation ë¯¸ì§€ì›
    - ëª¨ë“  ë¡œê·¸ê°€ í•˜ë‚˜ì˜ íŒŒì¼ì— í˜¼ì¬
  3. í…ŒìŠ¤íŠ¸ í™˜ê²½ ëŒ€ì‘ ì–´ë ¤ì›€
    - pytest ì‹¤í–‰ ì‹œ ë¡œê·¸ ì„¤ì • ì¬ì •ì˜ ë¶ˆí¸
    - í…ŒìŠ¤íŠ¸ìš© ë¡œê·¸ì™€ ìš´ì˜ ë¡œê·¸ ë¶„ë¦¬ ì–´ë ¤ì›€
  4. í™˜ê²½ë³„ ì„¤ì • ë¶€ì¬
    - ê°œë°œ/ìš´ì˜ í™˜ê²½ì— ë”°ë¥¸ ë¡œê·¸ ë ˆë²¨ ë³€ê²½ ë¶ˆí¸
    - í•˜ë“œì½”ë”©ëœ level=logging.INFO

  ğŸ’¡ ê°œì„  ì œì•ˆ

  # src/logging_config.py (ìƒˆ íŒŒì¼)
  import os
  import logging
  from logging.handlers import RotatingFileHandler
  from datetime import datetime

  def setup_logging(env: str = None):
      """ë¡œê¹… ì„¤ì • ì´ˆê¸°í™”"""
      env = env or os.getenv("ENV", "development")
      log_level = logging.DEBUG if env == "development" else logging.INFO

      os.makedirs('logs', exist_ok=True)

      # ë£¨íŠ¸ ë¡œê±° ì„¤ì •
      root_logger = logging.getLogger()
      root_logger.setLevel(logging.DEBUG)  # ìµœëŒ€í•œ ë‚®ê²Œ

      # í¬ë§·í„°
      formatter = logging.Formatter(
          '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
      )

      # ì½˜ì†” í•¸ë“¤ëŸ¬
      console = logging.StreamHandler()
      console.setLevel(log_level)
      console.setFormatter(formatter)

      # íŒŒì¼ í•¸ë“¤ëŸ¬ (rotation)
      file_handler = RotatingFileHandler(
          f'logs/app_{datetime.now().strftime("%Y%m%d")}.log',
          maxBytes=10*1024*1024,  # 10MB
          backupCount=5,
          encoding='utf-8'
      )
      file_handler.setLevel(log_level)
      file_handler.setFormatter(formatter)

      # í•¸ë“¤ëŸ¬ ì¶”ê°€
      root_logger.addHandler(console)
      root_logger.addHandler(file_handler)

      # íŠ¹ì • ëª¨ë“ˆ ë ˆë²¨ ì¡°ì • (í•„ìš”ì‹œ)
      logging.getLogger('playwright').setLevel(logging.WARNING)
      logging.getLogger('aiohttp').setLevel(logging.WARNING)

      return root_logger

  # src/main.py ìˆ˜ì •
  from logging_config import setup_logging

  # ë¡œê¹… ì´ˆê¸°í™”
  logger = setup_logging()
  logger = logging.getLogger(__name__)

  ğŸ“Š ê¶Œì¥ì‚¬í•­

  í˜„ì¬ í”„ë¡œì íŠ¸ ê·œëª¨ë¼ë©´:
  - ì§€ê¸ˆ ë°©ì‹ë„ ì¶©ë¶„íˆ ì‹¤ìš©ì 
  - ë‹¤ë§Œ RotatingFileHandler ì¶”ê°€ëŠ” ê¶Œì¥ (ë¡œê·¸ íŒŒì¼ ë¬´í•œ ì¦ê°€ ë°©ì§€)

  í”„ë¡œì íŠ¸ê°€ í™•ì¥ëœë‹¤ë©´:
  - ë³„ë„ ì„¤ì • ëª¨ë“ˆë¡œ ë¶„ë¦¬
  - í™˜ê²½ ë³€ìˆ˜ë¡œ ë¡œê·¸ ë ˆë²¨ ì œì–´
  - ëª¨ë“ˆë³„ ë¡œê·¸ ë ˆë²¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•

  ì§€ê¸ˆ ë‹¹ì¥ ë°”ê¿€ í•„ìš”ëŠ” ì—†ì§€ë§Œ, ë¡œê·¸ íŒŒì¼ rotationë§Œ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.